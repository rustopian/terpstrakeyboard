<!DOCTYPE html>

<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Terpstra Keyboard WebApp</title>

	<meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, target-densitydpi=device-dpi">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="author" content="James Fenn">

	<link rel="stylesheet" href="/styles/normalize.css">
	<link rel="stylesheet" href="/styles/skeleton.css">
	<link rel="stylesheet" href="/styles/terpstra-style.css">
    
    <link rel="manifest" href="/manifest.webmanifest"> <!-- added to enable Android Firefox users to add the web app to the home screen -->

	<script src="/src/jscolor.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.min.js"></script>
	<script type="module" src="/src/keys.ts"></script>
</head>

<body style="overflow: scroll;">

	<div id="landing-page" class="section" style="display: block;">
		<div class="container">
		  <h2><a href="http://terpstrakeyboard.com/">Terpstra Keyboard</a> <a href="http://terpstrakeyboard.com/play-it-now/">WebApp</a></h2>
		  <div class="row">
              <img alt="" src="images/1x1.png">
          </div>

			<form id="settingsForm">
				<div class="row">
					<div class="one-half column thincol-parent">
						<div class="u-half-width rpad">

                          <label>Tuning\Layout Quick Links</label>
                          <select id="quicklinks" onchange="javascript:location.href = this.value;" class="u-full-width">
                              <option selected="selected" disabled="disabled">Choose Preset</option>
                          </select>

                          <label>Fundamental (Hz)</label>
                          <input id="fundamental" type="number" step="any" min="0.015625" max="16384" onchange="changeURL();noPreset();" class="u-full-width">
                       </div>

						<div class="u-half-width">

                          <label>Right Facing Steps</label>
                          <input id="rSteps" type="number" min="-1220" max="1220" onchange="changeURL();noPreset();" class="u-full-width">

                          <label>Up/Right Facing Steps</label>
                          <input id="urSteps" type="number" min="-1220" max="1220" onchange="changeURL();noPreset();" class="u-full-width">
						</div>
                    </div>

					<div class="one-half column thincol-parent">
						<div class="u-half-width rpad">

                          <label>Hex Size (pixels)</label>
                          <input id="hexSize" type="number" step="any" min="20" max="1000" onchange="changeURL();noPreset();" class="u-full-width">

                          <label>Rotation (degrees)</label>
                          <input id="rotation" type="number" step="any" min="0" max="360" value="343.897886248" onchange="changeURL();noPreset();" class="u-full-width">
						</div>

						<div class="u-half-width">

                          <label>Instrument</label>
                          <select id="instrument" onchange="changeURL();noPreset();"  class="u-full-width">
                            <optgroup label="Regular">
                                <option value="piano">Piano</option>
                                <option value="harpsichord">Harpsichord</option>
                                <option value="rhodes">Rhodes</option>
                                <option value="harp">Harp</option>
                                <option value="choir">Choir</option>
                                <option value="strings">Strings</option>
                                <option value="sawtooth">Sawtooth</option>
                                <option value="gayageum">Gayageum</option>
                                <option value="qanun">Qanun</option>
                                <option value="organ">Organ</option>
                                <option value="organleslie">Organ + Leslie</option>
                                <option value="marimba">Marimba</option>
                                <option value="musicbox">Music Box</option>
                            </optgroup>
                            <optgroup label="«What Music Really İs» Study Tones">
                                <option value="WMRI3LST">WMRİ 3-Limit (4 Harmonics) ST</option>
                                <option value="WMRI5LST">WMRİ 5-Limit (6 Harmonics) ST</option>
                                <option value="WMRI5Lpike">WMRİ 5-Limit (6 Harmonics) Pk</option>
                                <option value="WMRI7LST">WMRİ 7-Limit (10 Harmonics) ST</option>
                                <option value="WMRI11LST">WMRİ 11-Limit (12 Harmonics) ST</option>
                                <option value="WMRI13LST">WMRİ 13-Limit (16 Harmonics) ST</option>
                                <option value="WMRInLST">WMRİ n-Limit ("sawtooth wave") ST</option>
                                <option value="WMRIByzantineST">WMRİ Byzantine (9 Harmonics) ST</option>
                                <option value="WMRI-in6-har7-">WMRİ Stretch inharmonic 6 = harmonic 7</option>
                                <option value="WMRI-in7-har6-">WMRİ Compress inharmonic 7 = harmonic 6</option>
                            </optgroup>
                          </select>

                          <label>
                              <input id="enum" type="checkbox" name="number_or_name" value="fnord" onchange="hideRevealNames();noPreset();">
                              <span class="label-body">Enumerate Scale</span>
                          </label>

                          <label>
                              <input id="spectrum_colors" type="checkbox" name="spectrum_colors" value="fnord" onchange="hideRevealColors();noPreset();">
                              <span class="label-body">Use Spectrum Colors</span>
                          </label>

                          <label>
                              <input id="no_labels" type="checkbox" name="blank_keys" value="fnord" onchange="hideRevealEnum();noPreset();">
                              <span class="label-body">Blank Keys</span>
                          </label>

                          <label>
                              <input id="midi_input" type="checkbox" name="midi_input" value="fnord" onchange="changeURL();noPreset();">
                              <span class="label-body">Enable MIDI Input</span>
                          </label>
						</div>
					</div>
				</div>

                <div class="row">
                    <img alt="" src="images/1x1.png" style="margin: 1.5%">
                </div>

				<div class="row">
					<div class="one-half column pushrow-mobile">
						<label>Scale (<a href="http://www.huygens-fokker.org/scala/scl_format.html" target="new" style="color: #222; text-decoration: none;">Scala format</a>)</label>
						<textarea id="scale" onchange="changeURL();noPreset();" class="iosscrollable u-full-width" rows="12">! 31-ed2 Bosanquet Wilson Terpstra.scl
! 31-tone equal tempered scale consisting of 31 sonically equal divisions per frequency halving/doubling in standard meantone notation, mapped on a Bosanquet / Wilson / Terpstra layout.
!
Terpstra Keyboard WebApp | 31-ed2 Bosanquet / Wilson / Terpstra
31
!
38.70968
77.41935
116.12903
154.83871
193.54839
232.25806
270.96774
309.67742
348.38710
387.09677
425.80645
464.51613
503.22581
541.93548
580.64516
619.35484
658.06452
696.77419
735.48387
774.19355
812.90323
851.61290
890.32258
929.03226
967.74194
1006.45161
1045.16129
1083.87097
1122.58065
1161.29032
1200.00000</textarea>
                  </div>

                  <div class="one-half column thincol-parent">
                    <div class="u-half-width rpad">
                      <label id="numberLabel" style="display: block;">Steps To Equivalence Interval</label>
                      <input id="equivSteps" type="number" min="1" max="999" value="" onchange="changeURL();noPreset();" style="display: block;" class="u-full-width">

                      <label id="namesLabel" style="display: none;">Note Names</label>
                      <textarea id="names" onchange="changeURL();noPreset();" class="iosscrollable u-full-width" rows="12" style="display: none;">C
D♭♭
C♯
D♭
C×
D
E♭♭
D♯
E♭
D×
E
F♭
E♯
F
G♭♭
F♯
G♭
F×
G
A♭♭
G♯
A♭
G×
A
B♭♭
A♯
B♭
A×
B
C♭
B♯</textarea>
					</div>

                    <div class="u-half-width">
                        <label id="fundamental_colorLabel" style="display: none;">Fundamental Color</label>
                        <input type="text" id="fundamental_color" style="display: none;" class="jscolor u-full-width" value="#55ff55">

                        <label id="note_colorsLabel">Color Layout</label>
                        <textarea id="note_colors" onchange="changeURL();noPreset();" class="iosscrollable u-full-width" rows="12">ffffff
ff9f41
cfcfcf
bbaa93
7b7b7b
ffffff
ff9f41
cfcfcf
bbaa93
7b7b7b
ffffff
bbaa93
cfcfcf
ffffff
ff9f41
cfcfcf
bbaa93
7b7b7b
ffffff
ff9f41
cfcfcf
bbaa93
7b7b7b
ffffff
ff9f41
cfcfcf
bbaa93
7b7b7b
ffffff
bbaa93
cfcfcf
ffffff</textarea>
                    </div>
                  </div>
				</div>
				<br>
				<input name="Submit" type="submit" value="Make me a microtonal keyboard!">
            </form>
        </div>

		<div class="container" style="text-align:center">
          Designed by <a href="http://siementerpstra.com/" target="new">Siemen Terpstra</a> in the late '80's. WebApp developed by <a href="http://jamesfenn.com/" target="new">James Fenn</a> with additions and modifications by <a href="http://brandlew.com/" target="new">Brandon Lewis</a>, <a href="http://whatmusicreallyis.com/" title="What Music Really İs" target="new">Bo Constantinsen</a> and <a href="https://sites.google.com/site/wangchengu/" target="new">Chengu Wang</a>. Credits to Scott Thompson and <a href="http://ozanyarman.com/" target="new">Dr Ozan Yarman</a> for contributing samples. Current version 1.4 (Jan. 2015 — Mar. 2018), released as Free/Libre and Open Source Software under <a href="https://www.gnu.org/licenses/gpl-3.0.en.html" target="new">GPL-3.0</a>. Download, fork, and get your name down here by fixing issues and implementing features via <a href="https://github.com/wcgbg/terpstrakeyboard/" target="new">GitHub</a>!
		</div>
	</div>

	<canvas id="keyboard" tabindex="1" width="1897" height="936" style="display: none; height: 936px; width: 1897px; margin-top: -468px; margin-left: -948.5px;"></canvas>

	<img alt="Return to keyboard design" src="images/back.png" id="backButton" onclick="back()" style="display: none;">

</body></html>
